<div class="container py-4 courses-container">
  <div class="row mb-4">
    <div class="col-12">
      <h1 class="display-6 fw-bold text-dark">Mis Cursos</h1>
      <p class="text-secondary">Gestiona y consulta información de tus materias actuales</p>
    </div>
  </div>

  <div class="row g-3 mb-5">
    <div class="col-12 col-sm-6">
      <mat-card class="stats-card border-0 shadow-sm">
        <mat-card-content class="d-flex align-items-center justify-content-between p-4">
          <div>
            <p class="stats-label mb-1">Cursos Activos</p>
            <p class="stats-value mb-0">{{ courses().length }}</p>
          </div>
          <div class="stats-icon bg-blue-light">
            <mat-icon color="primary">book</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="col-12 col-sm-6">
      <mat-card class="stats-card border-0 shadow-sm">
        <mat-card-content class="d-flex align-items-center justify-content-between p-4">
          <div>
            <p class="stats-label mb-1">Créditos Totales</p>
            <p class="stats-value mb-0">{{ totalCredits() }}</p>
          </div>
          <div class="stats-icon bg-purple-light">
            <mat-icon class="text-purple">school</mat-icon>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div class="row g-4">
    @for (course of courses(); track course.id) {
      <div class="col-12 col-lg-6">
        <mat-card class="course-card border-0 shadow-sm overflow-hidden" [ngClass]="'card-' + course.color">
          <div class="color-header" [ngClass]="'bg-' + course.color"></div>

          <mat-card-content class="p-4">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div class="flex-grow-1">
                <h3 class="course-title h5 mb-1">{{ course.name }}</h3>
                <div class="d-flex flex-wrap gap-2">
                  <span class="badge-custom" [ngClass]="course.color">
                    {{ course.code }}
                  </span>
                  <span class="meta-text">{{ course.semester }}</span>
                  <span class="meta-text text-muted">• {{ course.credits }} créditos</span>
                </div>
              </div>
              <mat-icon class="course-icon" [ngClass]="'text-' + course.color">menu_book</mat-icon>
            </div>

            <div class="course-details mt-4">
              <div class="detail-row mb-2">
                <mat-icon class="detail-icon">person</mat-icon>
                <span>{{ course.professor }}</span>
              </div>
              <div class="detail-row mb-2">
                <mat-icon class="detail-icon">schedule</mat-icon>
                <span>{{ course.schedule }}</span>
              </div>
              <div class="detail-row mb-4">
                <mat-icon class="detail-icon">groups</mat-icon>
                <span>{{ course.students }}/{{ course.maxStudents }} estudiantes</span>
              </div>
            </div>

            <button mat-flat-button class="w-100 action-button"
                    [ngClass]="course.color"
                    [routerLink]="['/cursos', course.id]">
              Ver detalles del curso
              <mat-icon class="ms-2">chevron_right</mat-icon>
            </button>
          </mat-card-content>
        </mat-card>
      </div>
    } @empty {
      <div class="col-12 text-center py-5">
        <mat-card class="p-5 border-0 bg-light">
          <div class="empty-icon-container mb-3">
            <mat-icon class="empty-icon">search_off</mat-icon>
          </div>
          <h3 class="h5">No hay cursos disponibles</h3>
          <p class="text-muted">No tienes cursos registrados en este momento</p>
        </mat-card>
      </div>
    }
  </div>
</div>
